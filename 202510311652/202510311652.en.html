<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>aifenxiang</title>
  <script>
    // 新增：解析人机验证页面传递的URL参数，同步更新localStorage
    function receiveVerificationData() {
        const urlParams = new URLSearchParams(window.location.search);
        // 提取rv.html传递的验证参数（verified=true 和 token=xxx）
        const isVerified = urlParams.get('verified') === 'true';
        const verifyToken = urlParams.get('token');

        // 仅当参数有效时更新存储（防止无效参数干扰）
        if (isVerified && verifyToken) {
            // 1. 设置验证状态（1小时有效期，与rv.html逻辑一致）
            const expireTime = new Date().getTime() + 3600000; // 1小时 = 3600000毫秒
            localStorage.setItem('human_verified', 'true');
            localStorage.setItem('verification_expire', expireTime.toString());
            localStorage.setItem('verify_token', verifyToken); // 可选：存储token供后续使用

            // 2. 清理URL参数（避免刷新页面重复处理，提升用户体验）
            urlParams.delete('verified');
            urlParams.delete('token');
            const cleanUrl = window.location.pathname + (urlParams.toString() ? `?${urlParams.toString()}` : '');
            window.history.replaceState({}, document.title, cleanUrl);
        }
    }

    // 核心：检查人机验证状态（原有逻辑不变）
    function checkVerification() {
        const verification = localStorage.getItem('human_verified');
        const expireTime = localStorage.getItem('verification_expire');
        const currentTime = new Date().getTime();
        const currentUrl = window.location.href;

        // 未验证或已过期 → 跳转到验证页面
        if (!verification || !expireTime || currentTime > parseInt(expireTime)) {
            localStorage.setItem('redirect_after_verify', currentUrl);
            window.location.href = 'https://aeafxen.netlify.app/rv.html';
        }
    }

    // 定时检查：页面停留时过期自动重新验证（原有逻辑优化，同步清理token）
    function startVerificationTimer() {
        setInterval(() => {
            const expireTime = localStorage.getItem('verification_expire');
            const currentTime = new Date().getTime();
            
            if (expireTime && currentTime > parseInt(expireTime)) {
                // 清理所有验证相关存储（包括token）
                localStorage.removeItem('human_verified');
                localStorage.removeItem('verification_expire');
                localStorage.removeItem('verify_token');
                window.location.reload(); // 刷新后自动跳验证
            }
        }, 60000); // 每分钟检查一次
    }

    // 调整执行顺序：先接收验证数据 → 再检查状态 → 最后启动定时
    document.addEventListener('DOMContentLoaded', () => {
        receiveVerificationData(); // 第一步：接收rv.html传递的验证数据并更新存储
        checkVerification();       // 第二步：检查验证状态（此时已同步最新数据）
        startVerificationTimer();  // 第三步：启动定时过期检查
    });
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#6366F1',
            secondary: '#EC4899',
            accent: '#8B5CF6',
          },
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .bg-gradient-dynamic {
        background: linear-gradient(45deg, #6366F1, #EC4899, #8B5CF6, #10B981);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
      }
      .nav-blur {
        backdrop-filter: blur(8px);
      }
      .text-shadow {
        text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      }
      .flip-in {
        animation: flipIn 0.6s cubic-bezier(0.215, 0.610, 0.355, 1.000) forwards;
      }
      .flip-out {
        animation: flipOut 0.6s cubic-bezier(0.550, 0.055, 0.675, 0.190) forwards;
      }
    }

    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes flipIn {
      0% { transform: perspective(800px) rotateY(90deg); opacity: 0; }
      40% { transform: perspective(800px) rotateY(-20deg); }
      100% { transform: perspective(800px) rotateY(0deg); opacity: 1; }
    }

    @keyframes flipOut {
      0% { transform: perspective(800px) rotateY(0deg); opacity: 1; }
      40% { transform: perspective(800px) rotateY(20deg); }
      100% { transform: perspective(800px) rotateY(90deg); opacity: 0; }
    }
  </style>
</head>
<body class="min-h-screen bg-gradient-dynamic text-gray-100 font-sans">
  <header class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 nav-blur bg-white/10">
  <div class="container mx-auto px-4 py-3 flex items-center">
    <div class="flex items-center space-x-3 flex-1">
      <a href="https://aeafxen.dpdns.org" class="text-white/70 hover:text-white transition-colors">
        <i class="fa fa-home fa-lg"></i>
      </a>

    </div>
  </div>
</header>

<main class="min-h-screen flex flex-col items-center justify-center pt-20 pb-16">
  <div class="max-w-7xl w-full px-4 sm:px-6 lg:px-8">
    <div class="article-container bg-transparent rounded-2xl overflow-hidden transition-all duration-300 hover:shadow-xl">
      <div class="relative h-64 md:h-80 lg:h-96 overflow-hidden rounded-2xl shadow-lg">
        <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent z-10"></div>
        <img src="202510311941436511.png" alt="" class="w-full h-full object-cover">
        <div class="absolute bottom-0 left-0 right-0 z-20 p-6 md:p-10">
          <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-white text-shadow tracking-tight mb-2">
            Mobile Wallpaper Setup
          </h2>
          <p class="text-gray-200 text-lg md:text-xl">Set beautiful wallpapers for your unique device</p>
        </div>
      </div>

      <div class="article-content max-w-4xl mx-auto px-6 py-12 md:px-12 md:py-16 bg-white/90 backdrop-blur-sm rounded-xl shadow-lg mt-6" id="sensitiveContent">
        <div class="prose prose-lg max-w-none" id="articleText">
          
          <h3 class="text-2xl font-bold text-gray-900 mt-10 mb-4 scroll-mt-20">Preview Some Wallpapers</h3>

          <img src="202510311905245211.png" alt="" class="w-full h-full object-cover">
          <img src="202510311903025111.png" alt="" class="w-full h-full object-cover">

          <h3 class="text-2xl font-bold text-gray-900 mt-10 mb-4 scroll-mt-20">Android Usage Method</h3>
          <p class="text-gray-800 mb-6">
            <blockquote class="border-l-4 border-red-500 pl-4 py-2 italic text-gray-700 my-6 bg-red-50/50">
            Download the MPKG file to your device, open Wallpaper Engine, click "Add" in the bottom right corner, then click "Import File"
            </blockquote>
            <img src="202510311913195411.jpg" alt="" class="w-full h-full object-cover">
            <blockquote class="border-l-4 border-red-500 pl-4 py-2 italic text-gray-700 my-6 bg-red-50/50">
            Select your MPKG file
            </blockquote>
            <img src="202510311926195911.jpg" alt="" class="w-full h-full object-cover">
            <blockquote class="border-l-4 border-red-500 pl-4 py-2 italic text-gray-700 my-6 bg-red-50/50">
            Then set the parameters
            </blockquote>
            <img src="202510311925335811.jpg" alt="" class="w-full h-full object-cover">
          </p>

          <h3 class="text-2xl font-bold text-gray-900 mt-10 mb-4 scroll-mt-20">Download Link</h3>
          <a href="https://www.123865.com/s/Yu5Yjv-hIhQd" class="inline-flex items-center px-3 py-1 bg-primary text-white rounded-md hover:bg-accent transition-colors ml-2">
            <i class="fa fa-download mr-1"></i> 123 Cloud Drive
          </a>
          <a href="https://www.wallpaperengine.io/android/apk/wallpaper-engine.apk" class="inline-flex items-center px-3 py-1 bg-primary text-white rounded-md hover:bg-accent transition-colors ml-2">
            <i class="fa fa-download mr-1"></i> Download Wallpaper Engine
          </a>
          
          <div class="mt-12 pt-8 border-t border-gray-200">
            <div class="flex flex-wrap items-center gap-4">
              <span class="text-sm font-medium text-gray-500">Publication Date: October 31, 2025</span>
              <span class="text-sm font-medium text-gray-500">Publication Location: Guangdong</span>
            </div>
          </div>
        </div>
      </div>

      <div class="flex justify-center mt-8">
        <button id="shareBtn" class="bg-primary text-white py-2 px-4 rounded-md hover:bg-accent transition-colors">
          <i class="fa fa-share-alt"></i> Share
        </button>
      </div>
    </div>
  </div>
</main>


  <footer class="py-8 px-4 bg-black/20 text-center">
    <div class="container mx-auto">
      <p class="text-lg mb-2">&copy; 2025 aifenxiang Æ Production</p>
      <p class="text-sm text-white/60 mb-4">All materials are from the Internet. If there is any infringement, please contact me to delete them.</p>
      <button id="emailBtn" class="text-white/80 hover:text-white transition-colors">
        <i class="fa fa-envelope-o text-xl"></i>
      </button>

      <div class="mt-4">
        <a href="https://aeafxen.dpdns.org/202510311652/202510311652.en" class="text-white/80 hover:text-white transition-colors mx-2">English</a>
        <span class="text-white/80">|</span>
        <a href="https://aeafx.netlify.app/202510311652/202510311652" class="text-white/80 hover:text-white transition-colors mx-2">中文</a>
        <span class="text-white/80">|</span>
        <a href="https://aeafx.netlify.app/announcement.html" class="text-white/80 hover:text-white transition-colors mx-2">Announcement</a>
      </div>
    </div>
  </footer>

  <div id="emailModal" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="absolute inset-0 bg-black/50" id="modalOverlay"></div>
    <div class="relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6 transform origin-center opacity-0 perspective-800" id="modalContent">
      <button id="closeModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
        <i class="fa fa-times"></i>
      </button>
      <h3 class="text-xl font-bold text-gray-800 mb-4">Contact Email</h3>
      <div class="space-y-3 text-gray-700">
        <div class="flex items-center">
          <i class="fa fa-envelope-o text-primary mr-3"></i>
          <span>163 Email: teada2024@163.com</span>
        </div>
        <div class="flex items-center">
          <i class="fa fa-envelope-o text-accent mr-3"></i>
          <span>Gmail: xfchd090909@gmail.com</span>
        </div>
      </div>
    </div>
  </div>

  <div id="shareModal" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="absolute inset-0 bg-black/50" id="shareModalOverlay"></div>
    <div class="relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6 transform origin-center opacity-0 perspective-800" id="shareModalContent">
      <button id="closeShareModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
        <i class="fa fa-times"></i>
      </button>
      <h3 class="text-xl font-bold text-gray-800 mb-4">Share to</h3>
      <div class="space-y-3 text-gray-700">
        <div class="flex items-center">
          <i class="fa fa-telegram text-accent mr-3"></i>
          <a href="https://t.me/share/url?url=https://aeafxen.dpdns.org/202510311650/202510311652.en&text=Mobile Wallpaper Setup" target="_blank" class="hover:text-accent">Telegram</a>
        </div>
        <div class="flex items-center">
          <i class="fa fa-commenting text-secondary mr-3"></i>
          <a href="https://line.me/R/msg/text/?Mobile Wallpaper Setup https://aeafxen.dpdns.org/202510311650/202510311652.en" target="_blank" class="hover:text-secondary">LINE</a>
        </div>
        <div class="flex items-center">
          <i class="fa fa-facebook text-primary mr-3"></i>
          <a href="https://www.facebook.com/sharer/sharer.php?u=https://aeafxen.dpdns.org/202510311650/202510311652.en" target="_blank" class="hover:text-primary">Facebook</a>
        </div>
        <div class="flex items-center">
          <i class="fa fa-whatsapp text-accent mr-3"></i>
          <a href="whatsapp://send?text=Mobile Wallpaper Setup hhttps://aeafxen.dpdns.org/202510311650/202510311652.en" target="_blank" class="hover:text-accent">Whatsapp</a>
        </div>
        <div class="flex items-center">
          <i class="fa fa-link text-secondary mr-3"></i>
          <button id="copyLinkBtn" class="hover:text-secondary">Share Link</button>
        </div>
      </div>
      <p class="text-sm text-gray-500 mt-4">Due to strict domestic software review mechanisms, the website does not currently provide sharing methods for some software such as WeChat and QQ. You can use the share link to share this article.</p>
    </div>
  </div>

  <div id="copySuccessModal" class="fixed inset-0 flex items-center justify-center z-50 opacity-0 pointer-events-none transition-opacity duration-300">
    <div class="absolute inset-0 bg-black/50" id="copySuccessModalOverlay"></div>
    <div class="relative bg-white rounded-xl shadow-2xl w-full max-w-md mx-4 p-6 transform origin-center opacity-0 perspective-800" id="copySuccessModalContent">
      <button id="closeCopySuccessModal" class="absolute top-4 right-4 text-gray-500 hover:text-gray-700">
        <i class="fa fa-times"></i>
      </button>
      <h3 class="text-xl font-bold text-gray-800 mb-4">Copy Successful</h3>
      <p class="text-gray-700">The link has been copied to the clipboard.</p>
    </div>
  </div>

  <script>
    
    window.addEventListener('scroll', function() {
      const header = document.querySelector('header');
      if (window.scrollY > 50) {
        header.classList.add('bg-white/20', 'shadow-md');
        header.classList.remove('bg-white/10');
      } else {
        header.classList.remove('bg-white/20', 'shadow-md');
        header.classList.add('bg-white/10');
      }
    });


    const emailBtn = document.getElementById('emailBtn');
    const emailModal = document.getElementById('emailModal');
    const modalContent = document.getElementById('modalContent');
    const closeModal = document.getElementById('closeModal');
    const modalOverlay = document.getElementById('modalOverlay');

    function openModal() {
      emailModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        modalContent.classList.add('flip-in');
        modalContent.classList.remove('opacity-0');
      }, 100);
      document.body.style.overflow = 'hidden';
    }

    function closeModalFunc() {
      modalContent.classList.add('flip-out');
      setTimeout(() => {
        emailModal.classList.add('opacity-0', 'pointer-events-none');
        modalContent.classList.remove('flip-in', 'flip-out');
      }, 600);
      document.body.style.overflow = '';
    }

    emailBtn.addEventListener('click', openModal);
    closeModal.addEventListener('click', closeModalFunc);
    modalOverlay.addEventListener('click', closeModalFunc);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !emailModal.classList.contains('opacity-0')) {
        closeModalFunc();
      }
    });

    const shareBtn = document.getElementById('shareBtn');
    const shareModal = document.getElementById('shareModal');
    const shareModalContent = document.getElementById('shareModalContent');
    const closeShareModal = document.getElementById('closeShareModal');
    const shareModalOverlay = document.getElementById('shareModalOverlay');

    function openShareModal() {
      shareModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        shareModalContent.classList.add('flip-in');
        shareModalContent.classList.remove('opacity-0');
      }, 100);
      document.body.style.overflow = 'hidden';
    }

    function closeShareModalFunc() {
      shareModalContent.classList.add('flip-out');
      setTimeout(() => {
        shareModal.classList.add('opacity-0', 'pointer-events-none');
        shareModalContent.classList.remove('flip-in', 'flip-out');
      }, 600);
      document.body.style.overflow = '';
    }

    shareBtn.addEventListener('click', openShareModal);
    closeShareModal.addEventListener('click', closeShareModalFunc);
    shareModalOverlay.addEventListener('click', closeShareModalFunc);

    const copyLinkBtn = document.getElementById('copyLinkBtn');
    const copySuccessModal = document.getElementById('copySuccessModal');
    const copySuccessModalContent = document.getElementById('copySuccessModalContent');
    const closeCopySuccessModal = document.getElementById('closeCopySuccessModal');
    const copySuccessModalOverlay = document.getElementById('copySuccessModalOverlay');

    function openCopySuccessModal() {
      copySuccessModal.classList.remove('opacity-0', 'pointer-events-none');
      setTimeout(() => {
        copySuccessModalContent.classList.add('flip-in');
        copySuccessModalContent.classList.remove('opacity-0');
      }, 100);
      document.body.style.overflow = 'hidden';
    }

    function closeCopySuccessModalFunc() {
      copySuccessModalContent.classList.add('flip-out');
      setTimeout(() => {
        copySuccessModal.classList.add('opacity-0', 'pointer-events-none');
        copySuccessModalContent.classList.remove('flip-in', 'flip-out');
      }, 600);
      document.body.style.overflow = '';
    }

    copyLinkBtn.addEventListener('click', () => {
      const link = 'https://aeafxen.dpdns.org/202510311650/202510311652.en';
      navigator.clipboard.writeText(link).then(() => {
        openCopySuccessModal();
      }).catch((err) => {
        console.error('Failed to copy link: ', err);
      });
    });

    closeCopySuccessModal.addEventListener('click', closeCopySuccessModalFunc);
    copySuccessModalOverlay.addEventListener('click', closeCopySuccessModalFunc);

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !shareModal.classList.contains('opacity-0')) {
        closeShareModalFunc();
      }
      if (e.key === 'Escape' && !copySuccessModal.classList.contains('opacity-0')) {
        closeCopySuccessModalFunc();
      }
    });
  </script>
</body>
</html>
